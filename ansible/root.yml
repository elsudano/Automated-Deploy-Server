---
- name: Apply configuration to virtual machine
  hosts: all
  remote_user: root
  become_method: su
  become_user: root
  become: true

  roles:
    - { role: geerlingguy.repo-epel, become: yes, tags: [ 'epel' ] }
    - { role: geerlingguy.ntp, become: yes, tags: [ 'ntp' ] }
    #- { role: geerlingguy.security, become: yes, tags: [ 'security' ] }
    - { role: geerlingguy.ansible, become: yes, tags: [ 'ansible' ] }
    - { role: geerlingguy.apache, become: yes, tags: [ 'apache' ] }
    #- { role: geerlingguy.nginx, become: yes, tags: [ 'nginx' ] }
    - { role: geerlingguy.php, become: yes, tags: [ 'php' ] }
    - { role: geerlingguy.php-mysql, become: yes, tags: [ 'php-mysql' ] }
    - { role: geerlingguy.php-pgsql, become: yes, tags: [ 'php-pgsql' ] }
    - { role: geerlingguy.php-memcached, become: yes, tags: [ 'php-memcached' ] }
    - { role: geerlingguy.memcached, become: yes, tags: [ 'memcached' ] }
    - { role: geerlingguy.mysql, become: yes, tags: [ 'mysql' ] }
    - { role: geerlingguy.postgresql, become: yes, tags: [ 'postgresql' ] }
#    - { role: elsudano.ansible-base, become: no, tags: [ 'base' ] }